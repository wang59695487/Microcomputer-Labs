A51 MACRO ASSEMBLER  2121                                                                 12/11/2019 16:29:12 PAGE     1


MACRO ASSEMBLER A51 V8.2.5.0
OBJECT MODULE PLACED IN .\Objects\2121.obj
ASSEMBLER INVOKED BY: D:\Keil_v5\C51\BIN\A51.EXE 2121.asm SET(SMALL) DEBUG PRINT(.\Listings\2121.lst) OBJECT(.\Objects\2
                      121.obj) EP

LOC  OBJ            LINE     SOURCE

  0090                 1                     OUTPUT BIT P1.0

0000                   2                     ORG 0000H

0000 020030            3                     LJMP START

000B                   4                     ORG 000BH

000B 02008E            5                     LJMP INT00

                       6                     

0030                   7                     ORG 0030H

0030 758901            8     START:  MOV TMOD, #01H          ;¹¤×÷·½Ê½1£¬16Î»¼ÆÊÆ÷

0033 D2A9              9                     SETB ET0                        ;T0ÖÐ¶ÏÔÊÐí

0035 D2AF             10                     SETB EA                         ;CPUÖÐ¶ÏÔÊÐí

0037 E4               11     MUSIC0: CLR A

0038 F540             12                     MOV 40H, A                      ;40H´æ·ÅÈ¡ÖµµÄÐòºÅ

003A 900097           13     MUSIC1: MOV DPTR, #TABLE

003D E540             14                     MOV A, 40H

003F 93               15                     MOVC A, @A+DPTR         ;È¡³öÒ»¸öÒôµ÷+½ÚÅÄ

                      16     

0040 602F             17                     JZ END0                         ;00H±íÊ¾Õû¸öÀÖÇú²¥·Å½áÊø

0042 F530             18                     MOV 30H, A                      ;30HÔÝ´æ Òôµ÷+½ÚÅÄ

0044 540F             19                     ANL A, #0FH             ;µÍËÄÎ»±íÊ¾½ÚÅÄ

0046 F531             20                     MOV 31H, A                      ;31H´æ·Å½ÚÅÄÂë(»ù±¾DELAYµÄ¸öÊ)

0048 E530             21                     MOV A, 30H

004A C4               22                     SWAP A

004B 540F             23                     ANL A, #0FH                     ;¸ßËÄÎ»±íÊ¾Òôµ÷

004D F532             24                     MOV 32H,A                       ;32H´æ·ÅÒô·ûµÄÒôµ÷£¬²éµÃ¶¨Ê±³õÖµ

004F 9000DD           25     MUSIC2: MOV DPTR,# TABLE1       ;¼òÆ×ÆµÂÊ±í±íÍ·£¨¶¨Ê±³õÖµ£©

0052 E532             26                     MOV A, 32H                      ;È¡³ö¶¨Ê±³õÖµ

0054 23               27                     RL A                            ;Ñ­»·×óÒÆ,³õÖµ³Ë2µÃ¶¨Ê±³õÖµÎ»ÖÃ

0055 F534             28                     MOV 34H,A                       ;34H´æ·Å¶¨Ê±³õÖµÎ»ÖÃ

0057 93               29                     MOVC A,@A+DPTR          ;È¡³ö³õÖµ¸ß×Ö½Ú

0058 F58C             30                     MOV TH0,A                       ;Éè¶¨¶¨Ê±Æ÷µÄ³õÖµ¸ß×Ö½Ú

005A F544             31                     MOV 44H,A                       ;44H±£´æ¶¨Ê±Æ÷³õÖµ¸ß×Ö½Ú

005C 0534             32                     INC 34H                         

005E E534             33                     MOV A,34H

0060 93               34                     MOVC A,@A+DPTR          ;È¡³ö³õÖµµÍ×Ö½Ú

0061 F58A             35                     MOV TL0,A                       ;Éè¶¨¶¨Ê±Æ÷µÄ³õÖµµÍ×Ö½Ú

0063 F545             36                     MOV 45H,A                       ;45H±£´æ¶¨Ê±Æ÷³õÖµ¸ß×Ö½Ú

0065 D28C             37                     SETB TR0                        ;¿ªÊ¼¼ÆÊ±£¬²¥·ÅÒôµ÷

0067 120081           38     DEL_NS: LCALL DLY125ms          ;½øÐÐ½ÚÅÄÊµÄÑÓÊ±

006A D531FA           39                     DJNZ 31H, DEL_NS        ;31HÎªÖ®Ç°²éµÃµÄ½ÚÅÄÊ(»ù±¾DELAYµÄ¸öÊ)

006D 0540             40                     INC 40H                         ;×¼±¸ÏÂÒ»¸öÒô·ûµÄ²¥·Å

006F 80C9             41                     SJMP MUSIC1

0071 C28C             42     END0:   CLR TR0                         ;Ò»±é½áÊø£¬Í£Ö¹¼ÆÊ±                                
                                                  

0073 120081           43                     LCALL DLY125ms          ;ÑÓÊ±0.5sºó£¬Ñ­»·²¥·Å

0076 120081           44                     LCALL DLY125ms

0079 120081           45                     LCALL DLY125ms

007C 120081           46                     LCALL DLY125ms

007F 80B6             47                     SJMP MUSIC0

                      48                     

                      49                     

0081 7B05             50     DLY125ms: MOV R3, #5            ;Òôµ÷µÄÒ»¸ö»ù±¾ÑÓÊ±Ê±¼ä125ms

0083 7C32             51     DEL2:     MOV R4, #50           ;R4Ñ­»·ÑÓÊ±50x0.5ms=25ms

0085 7DFA             52     DEL3:     MOV R5, #250          ;R5Ñ­»·ÑÓÊ±250x2us=0.5ms

0087 DDFE             53     DEL4:     DJNZ R5, DEL4

0089 DCFA             54                       DJNZ R4, DEL3

008B DBF6             55                       DJNZ R3, DEL2

008D 22               56                       RET

A51 MACRO ASSEMBLER  2121                                                                 12/11/2019 16:29:12 PAGE     2

                      57                     

008E 85448C           58     INT00:  MOV TH0,44H             ;¶¨Ê±ÖÐ¶Ï·þÎñ³ÌÐò

0091 85458A           59                     MOV TL0,45H                     ;ÖØÐÂÔØÈë¶¨Ê±³õÖµ

0094 B290             60                     CPL OUTPUT                      ;P1.0È¡·´

0096 32               61                     RETI

                      62                     

                      63     ;¡¶¸ÒÎÊÂ·ÔÚºÎ·½¡·¼òÆ×ÖÐÃ¿¸öÒô·û¼°½ÚÅÄµÄ±àÂë±í£¬¸ßËÄÎ»Îª¼òÆ×±àÂë£¬µÍËÄÎ»Îª½ÚÅÄ£¨»ù±¾delayµÄ¸
                             öÊ£©

0097 22442266         64     TABLE:  DB 22H,44H,22H,66H,52H,52H,46H,48H,32H,24H,32H,56H,62H

009B 52524648                
009F 32243256                
00A3 62                      
00A4 42262868         65                     DB 42H,26H,28H,68H,96H,62H,94H,82H,72H,68H,46H,52H,64H,72H,62H

00A8 96629482                
00AC 72684652                
00B0 647262                  
00B3 5F512464         66                     DB 5FH,51H,24H,64H,52H,62H,24H,4CH,64H,52H,34H,62H,52H,22H,42H,52H

00B7 5262244C                
00BB 64523462                
00BF 52224252                
00C3 6F616896         67                     DB 6FH,61H,68H,96H,62H,94H,82H,72H,68H,82H,54H,72H,62H,52H,44H

00C7 62948272                
00CB 68825472                
00CF 625244                  
00D2 5C645234         68                     DB 5CH,64H,52H,34H,62H,32H,22H,14H,2FH,21H,00H

00D6 62322214                
00DA 2F2100                  
                      69     

                      70     ;¼òÆ×ÆµÂÊ±í

00DD 0000FB04         71     TABLE1: DB 00H,00H,0FBH,04H,0FBH,92H,0FCH,0CH  ;²»·¢Òô£¬µÍÒô5-µÍÒô7

00E1 FB92FC0C                
00E5 FC44FCAC         72                     DB 0FCH, 44H,0FCH,0ACH,0FDH,09H            ;ÖÐÒô1-ÖÐÒô3

00E9 FD09                    
00EB FD34FD82         73                     DB 0FDH, 34H,0FDH,82H,0FDH,0C8H            ;ÖÐÒô4-ÖÐÒô5

00EF FDC8                    
00F1 FE06FE22         74                     DB 0FEH, 06H,0FEH,22H,0FEH,56H             ;ÖÐÒô6-¸ßÒô1

00F5 FE56                    
00F7 FE85FE9A         75                     DB 0FEH, 85H,0FEH,9AH,0FEH,0C1H            ;¸ßÒô2-¸ßÒô5

00FB FEC1                    
                      76                     END

A51 MACRO ASSEMBLER  2121                                                                 12/11/2019 16:29:12 PAGE     3

SYMBOL TABLE LISTING
------ ----- -------


N A M E             T Y P E  V A L U E   ATTRIBUTES

DEL2 . . . . . . .  C ADDR   0083H   A   
DEL3 . . . . . . .  C ADDR   0085H   A   
DEL4 . . . . . . .  C ADDR   0087H   A   
DEL_NS . . . . . .  C ADDR   0067H   A   
DLY125MS . . . . .  C ADDR   0081H   A   
EA . . . . . . . .  B ADDR   00A8H.7 A   
END0 . . . . . . .  C ADDR   0071H   A   
ET0. . . . . . . .  B ADDR   00A8H.1 A   
INT00. . . . . . .  C ADDR   008EH   A   
MUSIC0 . . . . . .  C ADDR   0037H   A   
MUSIC1 . . . . . .  C ADDR   003AH   A   
MUSIC2 . . . . . .  C ADDR   004FH   A   
OUTPUT . . . . . .  B ADDR   0090H.0 A   
P1 . . . . . . . .  D ADDR   0090H   A   
START. . . . . . .  C ADDR   0030H   A   
TABLE. . . . . . .  C ADDR   0097H   A   
TABLE1 . . . . . .  C ADDR   00DDH   A   
TH0. . . . . . . .  D ADDR   008CH   A   
TL0. . . . . . . .  D ADDR   008AH   A   
TMOD . . . . . . .  D ADDR   0089H   A   
TR0. . . . . . . .  B ADDR   0088H.4 A   


REGISTER BANK(S) USED: 0 


ASSEMBLY COMPLETE.  0 WARNING(S), 0 ERROR(S)
